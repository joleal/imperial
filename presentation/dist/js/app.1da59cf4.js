(function(t){function e(e){for(var a,o,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[t.$auth.isAuthenticated?n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:"","expand-on-hover":"",permanent:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:"",to:"/"}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" Dashboard ")])],1)],1),n("v-list-group",{attrs:{"no-action":""},scopedSlots:t._u([{key:"prependIcon",fn:function(){return[n("v-badge",{attrs:{color:"pink",left:"",overlap:"",dot:"","offset-x":"0","offset-y":"0"}},[n("v-icon",[t._v("mdi-puzzle")])],1)]},proxy:!0},{key:"activator",fn:function(){return[n("v-list-item-title",[t._v(" Games ")])]},proxy:!0}],null,!1,533291970)},t._l(["game 1","game 2","game 3"],(function(e,a){return n("v-list-item",{key:a,attrs:{link:"",to:"/about"}},[n("v-list-item-title",{domProps:{textContent:t._s(e)}}),n("v-list-item-action",[n("v-icon",{attrs:{color:"pink lighten-1"}},[t._v("mdi-play")])],1)],1)})),1),n("v-list-item",{attrs:{link:"",to:"/tournaments"}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-tournament")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" Tournaments ")])],1)],1),n("v-list-item",{attrs:{link:"",to:"/hof"}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-trophy")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" Hall of Fame ")])],1)],1)],1)],1):t._e(),t.$auth.isAuthenticated?n("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"green darken-3",dark:"",dense:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[n("span",{staticClass:"hidden-sm-and-down"},[t._v("Imperial")])]),n("v-spacer"),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-badge",{attrs:{color:"pink",overlap:"",dot:"","offset-x":"18","offset-y":"20"}},[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-bell")])],1)],1)]}}],null,!1,2402668701),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("Game #abcde")]),n("v-list-item-subtitle",[t._v("Founder of Vuetify.js")])],1),n("v-list-item-action",[n("v-list-item-action-text",{domProps:{textContent:t._s("15min")}})],1)],1),n("v-divider")],1)],1)],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs2;return[n("v-btn",t._g(t._b({attrs:{icon:"",large:""}},"v-btn",r,!1),a),[n("v-avatar",{attrs:{size:"32px",item:""}},[n("v-img",{attrs:{src:t.$auth.user.picture}})],1)],1)]}}],null,!1,2253822997),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[t._v(" Profile ")]),n("v-divider"),n("v-list-item",{on:{click:function(e){return t.logout()}}},[t._v(" Logout ")])],1)],1)],1)],1)],1):t._e(),n("v-main",[n("router-view")],1)],1)},i=[],o={name:"App",props:{source:String},components:{},methods:{logout:function(){this.$auth.logout({returnTo:window.location.origin})}},data:function(){return{drawer:!0,mini:!0,menu:!1}}},s=o,l=n("2877"),c=n("6544"),u=n.n(c),p=n("7496"),d=n("40dc"),m=n("8212"),v=n("4ca6"),f=n("8336"),h=n("b0af"),g=n("ce7e"),b=n("132d"),_=n("adda"),y=n("8860"),w=n("56b0"),x=n("da13"),k=n("1800"),C=n("5d23"),O=n("1baa"),$=n("f6c4"),V=n("e449"),j=n("f774"),P=n("2fa4"),A=n("2a7f"),I=Object(l["a"])(s,r,i,!1,null,null,null),S=I.exports;u()(I,{VApp:p["a"],VAppBar:d["a"],VAvatar:m["a"],VBadge:v["a"],VBtn:f["a"],VCard:h["a"],VDivider:g["a"],VIcon:b["a"],VImg:_["a"],VList:y["a"],VListGroup:w["a"],VListItem:x["a"],VListItemAction:k["a"],VListItemActionText:C["a"],VListItemContent:C["b"],VListItemGroup:O["a"],VListItemSubtitle:C["c"],VListItemTitle:C["d"],VMain:$["a"],VMenu:V["a"],VNavigationDrawer:j["a"],VSpacer:P["a"],VToolbarTitle:A["a"]});var T,R=n("8c4f"),E=(n("caad"),n("ac1f"),n("2532"),n("841c"),n("96cf"),n("1da1")),L=n("15fd"),D=n("9767"),U=n("bc3a"),B=n.n(U),W=function(){return window.history.replaceState({},document.title,window.location.pathname)},z=function(){return T},G=function(t){var e=t.onRedirectCallback,n=void 0===e?W:e,r=t.redirectUri,i=void 0===r?window.location.origin:r,o=Object(L["a"])(t,["onRedirectCallback","redirectUri"]);return T||(T=new a["a"]({data:function(){return{loading:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.popupOpen=!0,n.prev=1,n.next=4,e.auth0Client.loginWithPopup(t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error(n.t0);case 9:return n.prev=9,e.popupOpen=!1,n.finish(9);case 12:return n.next=14,e.auth0Client.getUser();case 14:e.user=n.sent,e.isAuthenticated=!0;case 16:case"end":return n.stop()}}),n,null,[[1,6,9,12]])})))()},handleRedirectCallback:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("redirect"),t.loading=!0,e.prev=2,e.next=5,t.auth0Client.handleRedirectCallback();case 5:return e.next=7,t.auth0Client.getUser();case 7:return t.user=e.sent,t.isAuthenticated=!0,e.next=11,t.$auth.getTokenSilently();case 11:return n=e.sent,e.next=14,B.a.post("".concat("https://imperialapi.leal.im","/user/register"),{mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(n)},body:JSON.stringify({nickname:t.user.nickname,email:t.user.email})});case 14:a=e.sent,console.log(a),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](2),t.error=e.t0;case 21:return e.prev=21,t.loading=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})))()},loginWithRedirect:function(t){return this.auth0Client.loginWithRedirect(t)},getIdTokenClaims:function(t){return this.auth0Client.getIdTokenClaims(t)},getTokenSilently:function(t){return this.auth0Client.getTokenSilently(t)},getTokenWithPopup:function(t){return this.auth0Client.getTokenWithPopup(t)},logout:function(t){return this.auth0Client.logout(t)}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(D["a"])({domain:o.domain,client_id:o.clientId,audience:o.audience,redirect_uri:i});case 2:if(t.auth0Client=e.sent,e.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.auth0Client.handleRedirectCallback();case 7:a=e.sent,r=a.appState,n(r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),t.error=e.t0;case 15:return e.prev=15,e.next=18,t.auth0Client.isAuthenticated();case 18:return t.isAuthenticated=e.sent,e.next=21,t.auth0Client.getUser();case 21:return t.user=e.sent,t.loading=!1,e.finish(15);case 24:case"end":return e.stop()}}),e,null,[[3,12,15,24]])})))()}}),T)},M={install:function(t,e){t.prototype.$auth=G(e)}},N=function(t,e,n){var a=z(),r=function(){if(a.isAuthenticated)return n();a.loginWithRedirect({appState:{targetUrl:t.fullPath}})};if(!a.loading)return r();a.$watch("loading",(function(t){if(!1===t)return r()}))},F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.$auth.isAuthenticated?n("Dashboard"):t._e(),t.$auth.isAuthenticated?t._e():n("Landing")],1)},J=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"mb-4",attrs:{cols:"12"}},[n("h2",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Active Games ")]),n("v-layout",{attrs:{"child-flex":""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{height:"400px",width:"100%","fixed-header":"",headers:t.headers,items:t.games,"items-per-page":5},scopedSlots:t._u([{key:"item.gameID",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{text:"",small:"",color:"primary",to:"/about"}},[t._v(t._s(a.gameID))])]}},{key:"item.players",fn:function(e){var a=e.item;return t._l(a.players,(function(e,a){return n("div",{key:a},[t._v(t._s(e))])}))}}])})],1)],1)],1),n("v-row",[n("v-col",[n("h2",[t._v("test")]),n("v-btn",{on:{click:t.testAPI}},[t._v("Test asd asd as")]),n("div",[t._v(t._s(t.result))])],1)],1)],1)},q=[],X={name:"Dashboard",methods:{testAPI:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.getTokenSilently();case 2:return n=e.sent,a={url:"".concat("https://imperialapi.leal.im","/user/register"),method:"POST",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{nickname:t.$auth.user.nickname,email:t.$auth.user.email}},e.next=6,B()(a);case 6:r=e.sent,t.$set(t,"result",r);case 8:case"end":return e.stop()}}),e)})))()}},data:function(){return{headers:[{text:"Game Id",align:"start",sortable:"false",value:"gameID"},{text:"Name",align:"start",sortable:"false",value:"name"},{text:"Players",align:"start",sortable:"false",value:"players"},{text:"Active Player",align:"start",sortable:"false",value:"activePlayer"}],games:[{gameID:1,name:"game 1",players:["joao","pedro","paulo","nuno"],activePlayer:"joao"},{gameID:2,name:"game 2",players:["joao","pedro","paulo"],activePlayer:"joao"},{gameID:3,name:"game 3",players:["joao","pedro","paulo","zé","nuno"],activePlayer:"joao"}],result:"nothing"}}},Y=X,K=n("62ad"),Q=n("a523"),Z=n("8fea"),tt=n("a722"),et=n("0fd9"),nt=Object(l["a"])(Y,H,q,!1,null,null,null),at=nt.exports;u()(nt,{VBtn:f["a"],VCol:K["a"],VContainer:Q["a"],VDataTable:Z["a"],VLayout:tt["a"],VRow:et["a"]});var rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{staticClass:"mb-4"},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Play Imperial ")]),n("p",{staticClass:"subheading font-weight-regular"},[t._v(" Page designed to play the games Imperial and Imperial 2030 on the web ")]),t.$auth.loading?t._e():n("v-btn",{attrs:{"x-large":"",color:"success",dark:""},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1)},it=[],ot={name:"Landing",methods:{login:function(){this.$auth.loginWithPopup()}},data:function(){return{}}},st=ot,lt=Object(l["a"])(st,rt,it,!1,null,null,null),ct=lt.exports;u()(lt,{VBtn:f["a"],VCol:K["a"],VContainer:Q["a"],VRow:et["a"]});var ut={name:"home",components:{Dashboard:at,Landing:ct},methods:{login:function(){this.$auth.loginWithRedirect()},logout:function(){this.$auth.logout({returnTo:window.location.origin})}}},pt=ut,dt=Object(l["a"])(pt,F,J,!1,null,null,null),mt=dt.exports,vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Coming soon")])])}],ht={name:"game",components:{},methods:{}},gt=ht,bt=Object(l["a"])(gt,vt,ft,!1,null,null,null),_t=bt.exports,yt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},wt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Coming soon")])])}],xt={name:"tournaments",components:{},methods:{}},kt=xt,Ct=Object(l["a"])(kt,yt,wt,!1,null,null,null),Ot=Ct.exports,$t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Coming soon")])])}],jt={name:"hallOfFame",components:{},methods:{}},Pt=jt,At=Object(l["a"])(Pt,$t,Vt,!1,null,null,null),It=At.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("img",{attrs:{src:t.$auth.user.picture}}),n("h2",[t._v(t._s(t.$auth.user.name))]),n("p",[t._v(t._s(t.$auth.user.email))])]),n("div",[n("pre",[t._v(t._s(JSON.stringify(t.$auth.user,null,2)))])])])},Tt=[],Rt={},Et=Object(l["a"])(Rt,St,Tt,!1,null,null,null),Lt=Et.exports;a["a"].use(R["a"]);var Dt=[{path:"/",name:"Home",component:mt},{path:"/game",name:"Game",component:_t,beforeEnter:N},{path:"/tournaments",name:"Tournaments",component:Ot,beforeEnter:N},{path:"/hof",name:"Hall Of Fame",component:It,beforeEnter:N},{path:"/profile",name:"profile",component:Lt,beforeEnter:N}],Ut=new R["a"]({mode:"history",base:"/",routes:Dt}),Bt=Ut,Wt=n("2f62");a["a"].use(Wt["a"]);var zt=new Wt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Gt=n("8160"),Mt=n("f309");a["a"].use(Mt["a"]);var Nt=new Mt["a"]({});a["a"].use(M,{domain:Gt["c"],clientId:Gt["b"],audience:Gt["a"],onRedirectCallback:function(t){Bt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),a["a"].config.productionTip=!1,new a["a"]({router:Bt,store:zt,vuetify:Nt,render:function(t){return t(S)}}).$mount("#app")},8160:function(t){t.exports=JSON.parse('{"c":"dev-1vkyztq3.eu.auth0.com","b":"EBtu7yP2ifR2gbn8YrXgDsNBnfpUcg4w","a":"https://imperialapi.leal.im"}')}});
//# sourceMappingURL=app.1da59cf4.js.map