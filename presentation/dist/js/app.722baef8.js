(function(e){function t(t){for(var a,s,o=t[0],u=t[1],c=t[2],m=0,p=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("96cf");var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[e.$auth.isAuthenticated?n("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:"","expand-on-hover":"",permanent:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:"",to:"/"}},[n("v-list-item-action",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" Dashboard ")])],1)],1),n("v-list-group",{attrs:{"no-action":""},scopedSlots:e._u([{key:"prependIcon",fn:function(){return[n("v-badge",{attrs:{color:"pink",left:"",overlap:"",dot:"","offset-x":"0","offset-y":"0",value:e.activeGames.length>0}},[n("v-icon",[e._v("mdi-puzzle")])],1)]},proxy:!0},{key:"activator",fn:function(){return[n("v-list-item-title",[e._v(" Games ")])]},proxy:!0}],null,!1,1030218546)},[e._l(e.activeGames,(function(t,a){return n("v-list-item",{key:a,attrs:{link:"",to:"/game/"+t.ID}},[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),n("v-list-item-action",[n("v-icon",{attrs:{color:"pink lighten-1"}},[e._v("mdi-play")])],1)],1)})),n("v-list-item",{attrs:{link:"",to:"/create"}},[n("v-list-item-title",[e._v("Create game")]),n("v-list-item-action",[n("v-icon",{attrs:{color:"blue lighten-1"}},[e._v("mdi-plus")])],1)],1)],2),n("v-list-item",{attrs:{link:"",to:"/tournaments"}},[n("v-list-item-action",[n("v-icon",[e._v("mdi-tournament")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" Tournaments ")])],1)],1),n("v-list-item",{attrs:{link:"",to:"/hof"}},[n("v-list-item-action",[n("v-icon",[e._v("mdi-trophy")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" Hall of Fame ")])],1)],1)],1)],1):e._e(),e.$auth.isAuthenticated?n("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"green darken-3",dark:"",dense:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[n("span",{staticClass:"hidden-sm-and-down"},[e._v("Imperial")])]),n("v-spacer"),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-badge",{attrs:{color:"pink",overlap:"",dot:"","offset-x":"18","offset-y":"20"}},[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),a),[n("v-icon",[e._v("mdi-bell")])],1)],1)]}}],null,!1,2402668701),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-card",[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("Game #abcde")]),n("v-list-item-subtitle",[e._v("Founder of Vuetify.js")])],1),n("v-list-item-action",[n("v-list-item-action-text",{domProps:{textContent:e._s("15min")}})],1)],1),n("v-divider")],1)],1)],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs2;return[n("v-btn",e._g(e._b({attrs:{icon:"",large:""}},"v-btn",r,!1),a),[n("v-avatar",{attrs:{size:"32px",item:""}},[n("v-img",{attrs:{src:e.$auth.user.picture}})],1)],1)]}}],null,!1,2253822997),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-card",[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[e._v(" Profile ")]),n("v-divider"),n("v-list-item",{on:{click:function(t){return e.logout()}}},[e._v(" Logout ")])],1)],1)],1)],1)],1):e._e(),n("v-main",[n("router-view")],1)],1)},s=[],o=n("5530"),u=n("2f62"),c={name:"App",props:{source:String},computed:Object(o["a"])({},Object(u["b"])(["activeGames"])),components:{},methods:{logout:function(){this.$auth.logout({returnTo:window.location.origin})}},data:function(){return{drawer:!0,mini:!0,menu:!1}}},l=c,m=n("2877"),p=n("6544"),d=n.n(p),v=n("7496"),h=n("40dc"),f=n("8212"),g=n("4ca6"),b=n("8336"),x=n("b0af"),y=n("ce7e"),_=n("132d"),w=n("adda"),k=n("8860"),C=n("56b0"),O=n("da13"),$=n("1800"),j=n("5d23"),V=n("1baa"),G=n("f6c4"),I=n("e449"),L=n("f774"),R=n("2fa4"),S=n("2a7f"),A=Object(m["a"])(l,i,s,!1,null,null,null),P=A.exports;d()(A,{VApp:v["a"],VAppBar:h["a"],VAvatar:f["a"],VBadge:g["a"],VBtn:b["a"],VCard:x["a"],VDivider:y["a"],VIcon:_["a"],VImg:w["a"],VList:k["a"],VListGroup:C["a"],VListItem:O["a"],VListItemAction:$["a"],VListItemActionText:j["a"],VListItemContent:j["b"],VListItemGroup:V["a"],VListItemSubtitle:j["c"],VListItemTitle:j["d"],VMain:G["a"],VMenu:I["a"],VNavigationDrawer:L["a"],VSpacer:R["a"],VToolbarTitle:S["a"]});var T,E=n("8c4f"),D=(n("caad"),n("ac1f"),n("2532"),n("841c"),n("15fd")),M=n("9767"),q=n("bc3a"),B=n.n(q),U=function(){return window.history.replaceState({},document.title,window.location.pathname)},N=function(){return T},F=function(e){var t=e.onRedirectCallback,n=void 0===t?U:t,i=e.redirectUri,s=void 0===i?window.location.origin:i,o=Object(D["a"])(e,["onRedirectCallback","redirectUri"]);return T||(T=new r["a"]({data:function(){return{loading:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.popupOpen=!0,n.prev=1,n.next=4,t.auth0Client.loginWithPopup(e);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error(n.t0);case 9:return n.prev=9,t.popupOpen=!1,n.finish(9);case 12:return n.next=14,t.auth0Client.getUser();case 14:return t.user=n.sent,t.isAuthenticated=!0,n.next=18,t.auth0Client.getTokenSilently();case 18:return a=n.sent,r={url:"".concat("https://imperialapi.leal.im","/user/register"),method:"POST",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{nickname:t.user.nickname,email:t.user.email}},n.next=22,B()(r);case 22:case"end":return n.stop()}}),n,null,[[1,6,9,12]])})))()},handleRedirectCallback:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("redirect"),e.loading=!0,t.prev=2,t.next=5,e.auth0Client.handleRedirectCallback();case 5:return t.next=7,e.auth0Client.getUser();case 7:e.user=t.sent,e.isAuthenticated=!0,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.error=t.t0;case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))()},loginWithRedirect:function(e){return this.auth0Client.loginWithRedirect(e)},getIdTokenClaims:function(e){return this.auth0Client.getIdTokenClaims(e)},getTokenSilently:function(e){return this.auth0Client.getTokenSilently(e)},getTokenWithPopup:function(e){return this.auth0Client.getTokenWithPopup(e)},logout:function(e){return this.auth0Client.logout(e)}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(M["a"])({domain:o.domain,client_id:o.clientId,audience:o.audience,redirect_uri:s});case 2:if(e.auth0Client=t.sent,t.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){t.next=10;break}return t.next=7,e.auth0Client.handleRedirectCallback();case 7:a=t.sent,r=a.appState,n(r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),e.error=t.t0;case 15:return t.prev=15,t.next=18,e.auth0Client.isAuthenticated();case 18:return e.isAuthenticated=t.sent,t.next=21,e.auth0Client.getUser();case 21:return e.user=t.sent,e.loading=!1,t.finish(15);case 24:case"end":return t.stop()}}),t,null,[[3,12,15,24]])})))()}}),T)},W={install:function(e,t){e.prototype.$auth=F(t)}},z=function(e,t,n){var a=N(),r=function(){if(a.isAuthenticated)return n();a.loginWithRedirect({appState:{targetUrl:e.fullPath}})};if(!a.loading)return r();a.$watch("loading",(function(e){if(!1===e)return r()}))},H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e.$auth.isAuthenticated?n("Dashboard"):e._e(),e.$auth.isAuthenticated?e._e():n("Landing")],1)},J=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"mb-4",attrs:{cols:"12"}},[n("h2",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Active Games ")]),n("v-layout",{attrs:{"child-flex":""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",height:"400px",width:"100%","fixed-header":"",headers:e.headers,items:e.activeGames,"items-per-page":5},scopedSlots:e._u([{key:"item.ID",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{text:"",small:"",color:"primary",to:"/about"}},[e._v(e._s(a.ID))])]}},{key:"item.players",fn:function(t){var a=t.item;return e._l(a.players,(function(t,a){return n("div",{key:a},[e._v(e._s(t))])}))}}])})],1)],1)],1),n("v-row",[n("v-col",[n("OpenGames")],1)],1)],1)},Y=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"child-flex":""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",height:"400px",width:"100%","fixed-header":"",headers:e.headers,items:e.openGames,"items-per-page":5},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Open Games")])],1)]},proxy:!0},{key:"item.ID",fn:function(t){var a=t.item;return[n("div",[e._v(e._s((""+a.ID).slice(-5)))])]}},{key:"item.actions",fn:function(t){var a=t.item;return[e.inGame(a)?e._e():n("v-icon",{attrs:{color:"success"},on:{click:function(t){return e.console.log(a.ID)}}},[e._v("mdi-account-multiple-plus")]),e.inGame(a)?n("v-icon",{attrs:{color:"error"},on:{click:function(t){return e.console.log(a.ID)}}},[e._v("mdi-account-multiple-minus")]):e._e()]}},{key:"item.players",fn:function(t){var a=t.item;return[n("div",{staticClass:"d-flex justify-start"},e._l(a.players,(function(t,a){return n("v-list-item",{key:a,staticClass:"pa-0"},[n("v-list-item-avatar",{attrs:{size:"18"}},[n("img",{attrs:{src:e.gravatar(t.email)}})]),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.nickname)}})],1)],1)})),1)]}}])})],1)},Q=[],Z=(n("4de4"),n("4c53"),n("d3b7"),n("25f0"),n("5319"),n("498a"),{gravatar:te}),ee=Z;function te(e){var t=e.trim();return"http://www.gravatar.com/avatar/".concat(ne(t),".jpg")}function ne(e){function t(e,t){var n,a,r,i,s;return r=2147483648&e,i=2147483648&t,n=1073741824&e,a=1073741824&t,s=(1073741823&e)+(1073741823&t),n&a?2147483648^s^r^i:n|a?1073741824&s?3221225472^s^r^i:1073741824^s^r^i:s^r^i}function n(e,n,a,r,i,s,o){return e=t(e,t(t(n&a|~n&r,i),o)),t(e<<s|e>>>32-s,n)}function a(e,n,a,r,i,s,o){return e=t(e,t(t(n&r|a&~r,i),o)),t(e<<s|e>>>32-s,n)}function r(e,n,a,r,i,s,o){return e=t(e,t(t(n^a^r,i),o)),t(e<<s|e>>>32-s,n)}function i(e,n,a,r,i,s,o){return e=t(e,t(t(a^(n|~r),i),o)),t(e<<s|e>>>32-s,n)}function s(e){var t,n="",a="";for(t=0;3>=t;t++)a=e>>>8*t&255,a="0"+a.toString(16),n+=a.substr(a.length-2,2);return n}var o,u,c,l,m,p,d,v,h=[];for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);128>a?t+=String.fromCharCode(a):(127<a&&2048>a?t+=String.fromCharCode(a>>6|192):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128)),t+=String.fromCharCode(63&a|128))}return t}(e),h=function(e){var t,n=e.length;t=n+8;for(var a=16*((t-t%64)/64+1),r=Array(a-1),i=0,s=0;s<n;)t=(s-s%4)/4,i=s%4*8,r[t]|=e.charCodeAt(s)<<i,s++;return t=(s-s%4)/4,r[t]|=128<<s%4*8,r[a-2]=n<<3,r[a-1]=n>>>29,r}(e),m=1732584193,p=4023233417,d=2562383102,v=271733878,e=0;e<h.length;e+=16)o=m,u=p,c=d,l=v,m=n(m,p,d,v,h[e+0],7,3614090360),v=n(v,m,p,d,h[e+1],12,3905402710),d=n(d,v,m,p,h[e+2],17,606105819),p=n(p,d,v,m,h[e+3],22,3250441966),m=n(m,p,d,v,h[e+4],7,4118548399),v=n(v,m,p,d,h[e+5],12,1200080426),d=n(d,v,m,p,h[e+6],17,2821735955),p=n(p,d,v,m,h[e+7],22,4249261313),m=n(m,p,d,v,h[e+8],7,1770035416),v=n(v,m,p,d,h[e+9],12,2336552879),d=n(d,v,m,p,h[e+10],17,4294925233),p=n(p,d,v,m,h[e+11],22,2304563134),m=n(m,p,d,v,h[e+12],7,1804603682),v=n(v,m,p,d,h[e+13],12,4254626195),d=n(d,v,m,p,h[e+14],17,2792965006),p=n(p,d,v,m,h[e+15],22,1236535329),m=a(m,p,d,v,h[e+1],5,4129170786),v=a(v,m,p,d,h[e+6],9,3225465664),d=a(d,v,m,p,h[e+11],14,643717713),p=a(p,d,v,m,h[e+0],20,3921069994),m=a(m,p,d,v,h[e+5],5,3593408605),v=a(v,m,p,d,h[e+10],9,38016083),d=a(d,v,m,p,h[e+15],14,3634488961),p=a(p,d,v,m,h[e+4],20,3889429448),m=a(m,p,d,v,h[e+9],5,568446438),v=a(v,m,p,d,h[e+14],9,3275163606),d=a(d,v,m,p,h[e+3],14,4107603335),p=a(p,d,v,m,h[e+8],20,1163531501),m=a(m,p,d,v,h[e+13],5,2850285829),v=a(v,m,p,d,h[e+2],9,4243563512),d=a(d,v,m,p,h[e+7],14,1735328473),p=a(p,d,v,m,h[e+12],20,2368359562),m=r(m,p,d,v,h[e+5],4,4294588738),v=r(v,m,p,d,h[e+8],11,2272392833),d=r(d,v,m,p,h[e+11],16,1839030562),p=r(p,d,v,m,h[e+14],23,4259657740),m=r(m,p,d,v,h[e+1],4,2763975236),v=r(v,m,p,d,h[e+4],11,1272893353),d=r(d,v,m,p,h[e+7],16,4139469664),p=r(p,d,v,m,h[e+10],23,3200236656),m=r(m,p,d,v,h[e+13],4,681279174),v=r(v,m,p,d,h[e+0],11,3936430074),d=r(d,v,m,p,h[e+3],16,3572445317),p=r(p,d,v,m,h[e+6],23,76029189),m=r(m,p,d,v,h[e+9],4,3654602809),v=r(v,m,p,d,h[e+12],11,3873151461),d=r(d,v,m,p,h[e+15],16,530742520),p=r(p,d,v,m,h[e+2],23,3299628645),m=i(m,p,d,v,h[e+0],6,4096336452),v=i(v,m,p,d,h[e+7],10,1126891415),d=i(d,v,m,p,h[e+14],15,2878612391),p=i(p,d,v,m,h[e+5],21,4237533241),m=i(m,p,d,v,h[e+12],6,1700485571),v=i(v,m,p,d,h[e+3],10,2399980690),d=i(d,v,m,p,h[e+10],15,4293915773),p=i(p,d,v,m,h[e+1],21,2240044497),m=i(m,p,d,v,h[e+8],6,1873313359),v=i(v,m,p,d,h[e+15],10,4264355552),d=i(d,v,m,p,h[e+6],15,2734768916),p=i(p,d,v,m,h[e+13],21,1309151649),m=i(m,p,d,v,h[e+4],6,4149444226),v=i(v,m,p,d,h[e+11],10,3174756917),d=i(d,v,m,p,h[e+2],15,718787259),p=i(p,d,v,m,h[e+9],21,3951481745),m=t(m,o),p=t(p,u),d=t(d,c),v=t(v,l);return(s(m)+s(p)+s(d)+s(v)).toLowerCase()}var ae={name:"OpenGames",methods:{gravatar:ee.gravatar,inGame:function(e){var t=this;return e.players.filter((function(e){return e.user_id==t.$auth.user.sub})).length>0}},computed:Object(o["a"])({},Object(u["b"])(["openGames"])),data:function(){return{headers:[{text:"Game Id",align:"start",sortable:"false",value:"ID",width:"10px",fixed:!0},{text:"Name",align:"start",sortable:"false",value:"name",width:"200px"},{text:"Players",align:"start",sortable:"false",value:"players",width:"600px",fixed:!0},{text:"Actions",align:"end",sortable:"false",value:"actions"}]}}},re=ae,ie=n("8fea"),se=n("a722"),oe=n("8270"),ue=n("71d9"),ce=Object(m["a"])(re,K,Q,!1,null,null,null),le=ce.exports;d()(ce,{VDataTable:ie["a"],VIcon:_["a"],VLayout:se["a"],VListItem:O["a"],VListItemAvatar:oe["a"],VListItemContent:j["b"],VListItemTitle:j["d"],VToolbar:ue["a"],VToolbarTitle:S["a"]});var me={name:"Dashboard",components:{OpenGames:le},methods:{},computed:Object(o["a"])({},Object(u["b"])(["activeGames","openGames"])),data:function(){return{headers:[{text:"Game Id",align:"start",sortable:"false",value:"ID"},{text:"Name",align:"start",sortable:"false",value:"name"},{text:"Players",align:"start",sortable:"false",value:"players"},{text:"Active Player",align:"start",sortable:"false",value:"currentPlayer"}],games:[{gameID:1,name:"game 1",players:["joao","pedro","paulo","nuno"],activePlayer:"joao"},{gameID:2,name:"game 2",players:["joao","pedro","paulo"],activePlayer:"joao"},{gameID:3,name:"game 3",players:["joao","pedro","paulo","z√©","nuno"],activePlayer:"joao"}],result:"nothing"}}},pe=me,de=n("62ad"),ve=n("a523"),he=n("0fd9"),fe=Object(m["a"])(pe,X,Y,!1,null,null,null),ge=fe.exports;d()(fe,{VBtn:b["a"],VCol:de["a"],VContainer:ve["a"],VDataTable:ie["a"],VLayout:se["a"],VRow:he["a"]});var be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{staticClass:"mb-4"},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Play Imperial ")]),n("p",{staticClass:"subheading font-weight-regular"},[e._v(" Page designed to play the games Imperial and Imperial 2030 on the web ")]),e.$auth.loading?e._e():n("v-btn",{attrs:{"x-large":"",color:"success",dark:""},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)],1)},xe=[],ye={name:"Landing",methods:{login:function(){this.$auth.loginWithPopup()}},data:function(){return{}}},_e=ye,we=Object(m["a"])(_e,be,xe,!1,null,null,null),ke=we.exports;d()(we,{VBtn:b["a"],VCol:de["a"],VContainer:ve["a"],VRow:he["a"]});var Ce={name:"home",components:{Dashboard:ge,Landing:ke},methods:{login:function(){this.$auth.loginWithRedirect()},logout:function(){this.$auth.logout({returnTo:window.location.origin})}}},Oe=Ce,$e=Object(m["a"])(Oe,H,J,!1,null,null,null),je=$e.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Coming soon")]),e._v(" Game - "+e._s(e.$route.params.id)+" ")])},Ge=[],Ie={name:"game",components:{},methods:{}},Le=Ie,Re=Object(m["a"])(Le,Ve,Ge,!1,null,null,null),Se=Re.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Coming soon")])])}],Te={name:"tournaments",components:{},methods:{}},Ee=Te,De=Object(m["a"])(Ee,Ae,Pe,!1,null,null,null),Me=De.exports,qe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Coming soon")])])}],Ue={name:"hallOfFame",components:{},methods:{}},Ne=Ue,Fe=Object(m["a"])(Ne,qe,Be,!1,null,null,null),We=Fe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("img",{attrs:{src:e.$auth.user.picture}}),n("h2",[e._v(e._s(e.$auth.user.name))]),n("p",[e._v(e._s(e.$auth.user.email))])]),n("div",[n("pre",[e._v(e._s(JSON.stringify(e.$auth.user,null,2)))])])])},He=[],Je={},Xe=Object(m["a"])(Je,ze,He,!1,null,null,null),Ye=Xe.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CreateGame")],1)},Qe=[],Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"mb-4",attrs:{cols:"12"}},[n("h2",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Create Game ")]),n("form",[n("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:255,label:"Name",required:""},on:{input:function(t){return e.$v.game.name.$touch()},blur:function(t){return e.$v.game.name.$touch()}},model:{value:e.game.name,callback:function(t){e.$set(e.game,"name",t)},expression:"game.name"}}),n("v-select",{attrs:{"error-messages":e.versionErrors,items:e.versions,"item-text":"name","item-value":"value",label:"Game version",required:""},on:{change:e.updateTaxFlag},model:{value:e.game.settings.version,callback:function(t){e.$set(e.game.settings,"version",t)},expression:"game.settings.version"}}),n("v-select",{attrs:{"error-messages":e.startingModeErrors,items:e.startingMode,"item-text":"name","item-value":"value",label:"Starting Mode",required:""},model:{value:e.game.settings.startingMode,callback:function(t){e.$set(e.game.settings,"startingMode",t)},expression:"game.settings.startingMode"}}),n("v-select",{attrs:{items:[2,3,4,5,6],label:"Number of Players",required:""},on:{change:function(t){return e.$v.game.players.$touch()}},model:{value:e.game.numberOfPlayers,callback:function(t){e.$set(e.game,"numberOfPlayers",t)},expression:"game.numberOfPlayers"}}),n("v-autocomplete",{attrs:{"error-messages":e.playerErrors,items:e.items,loading:e.isLoading,"search-input":e.search,"item-text":"nickname","item-value":function(e){return{user_id:e.user_id}},label:"Players",placeholder:"Start typing to search",clearable:"",multiple:"","hide-no-data":"","hide-selected":"","prepend-icon":"mdi-account-search"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},change:function(t){return e.$v.game.players.$touch()}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",e._b({attrs:{"input-value":t.selected,close:""},on:{click:t.select,"click:close":function(n){return e.remove(t.item)}}},"v-chip",t.attrs,!1),[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:t.item.gravatar}})],1),e._v(" "+e._s(t.item.nickname)+" ")],1)]}},{key:"item",fn:function(t){return[n("v-list-item-avatar",[n("img",{attrs:{src:t.item.gravatar}})]),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.item.nickname)}}),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.email)}})],1)]}}]),model:{value:e.game.players,callback:function(t){e.$set(e.game,"players",t)},expression:"game.players"}}),n("h2",[e._v(" Options ")]),n("v-checkbox",{attrs:{label:"Random order"},model:{value:e.game.settings.random,callback:function(t){e.$set(e.game.settings,"random",t)},expression:"game.settings.random"}}),n("v-checkbox",{attrs:{label:"Investor card"},model:{value:e.game.settings.investorCard,callback:function(t){e.$set(e.game.settings,"investorCard",t)},expression:"game.settings.investorCard"}}),n("v-checkbox",{attrs:{label:"Tax bonus only on taxation increase"},model:{value:e.game.settings.taxIncreaseBonus,callback:function(t){e.$set(e.game.settings,"taxIncreaseBonus",t)},expression:"game.settings.taxIncreaseBonus"}}),n("v-btn",{attrs:{color:"success","x-large":"",dark:""},on:{click:e.createGame}},[e._v("Create")])],1)])],1)],1)},et=[];n("d81d"),n("b0c0");B.a.defaults.baseURL="https://imperialapi.leal.im",B.a.interceptors.request.use(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=N(),e.next=3,n.getTokenSilently();case 3:return a=e.sent,a&&(t.headers.Authorization="Bearer ".concat(a)),t.headers.Accept="application/json",t.headers["Content-Type"]="application/json;charset=UTF-8",e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var tt={ActiveGames:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/games/active");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),OpenGames:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/games/open");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),CreateGame:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("/game",t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),Players:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/users?name=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},nt=tt,at=n("1dce"),rt=n("b5ae"),it={name:"Dashboard",mixins:[at["validationMixin"]],data:function(){return{game:{name:"",numberOfPlayers:4,settings:{investorCard:!0,taxIncreaseBonus:!1},players:[]},items:[],isLoading:!1,search:null,valid:null,versions:[{name:"Imperial Original",value:"Original"},{name:"Imperial 2030",value:"Imperial 2030"}],startingMode:[{name:"Countries distributed randomly",value:"Random"},{name:"Auction",value:"Experienced"}]}},validations:function(){return{game:{name:{required:rt["required"],minLength:Object(rt["minLength"])(5),maxLength:Object(rt["maxLength"])(255)},players:{required:rt["required"],maxLength:Object(rt["maxLength"])(this.game.numberOfPlayers)},settings:{startingMode:{required:rt["required"]},version:{required:rt["required"]}}}}},computed:{nameErrors:function(){var e=[];return this.$v.game.name.$dirty?(!this.$v.game.name.maxLength&&e.push("Name must be at most 255 characters long"),!this.$v.game.name.minLength&&e.push("Name must be at least 5 characters long"),!this.$v.game.name.required&&e.push("Name is required."),e):e},playerErrors:function(){var e=[];return!this.$v.game.players.maxLength&&e.push("Can't exceed the number of players"),e},versionErrors:function(){var e=[];return this.$v.game.settings.version.$dirty?(!this.$v.game.settings.version.required&&e.push("Version is required."),e):e},startingModeErrors:function(){var e=[];return this.$v.game.settings.startingMode.$dirty?(!this.$v.game.settings.startingMode.required&&e.push("Starting mode is required."),e):e}},methods:{createGame:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=5;break}e.submitStatus="ERROR",t.next=15;break;case 5:return t.prev=5,t.next=8,nt.CreateGame(e.game);case 8:e.$store.dispatch("updateState"),e.$router.push({name:"Home"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()},clear:function(){},remove:function(e){this.game.players=this.game.players.filter((function(t){return t.user_id!=e.user_id}))},updateTaxFlag:function(){this.game.settings.taxIncreaseBonus="Original"==this.game.settings.version}},mounted:function(){var e=this,t=Object.assign({},this.$auth.user,{user_id:this.$auth.user.sub,gravatar:ee.gravatar(this.$auth.user.email)});this.items.push(t),this.game.players.push(t),nt.Players("").then((function(t){e.items=t.map((function(e){return Object.assign({},e,{gravatar:ee.gravatar(e.email)})}))})).catch((function(e){console.log(e)})).finally((function(){return e.isLoading=!1}))}},st=it,ot=n("c6a6"),ut=n("ac7c"),ct=n("cc20"),lt=n("b974"),mt=n("8654"),pt=Object(m["a"])(st,Ze,et,!1,null,null,null),dt=pt.exports;d()(pt,{VAutocomplete:ot["a"],VAvatar:f["a"],VBtn:b["a"],VCheckbox:ut["a"],VChip:ct["a"],VCol:de["a"],VContainer:ve["a"],VImg:w["a"],VListItemAvatar:oe["a"],VListItemContent:j["b"],VListItemSubtitle:j["c"],VListItemTitle:j["d"],VRow:he["a"],VSelect:lt["a"],VTextField:mt["a"]});var vt={name:"create",components:{CreateGame:dt},methods:{}},ht=vt,ft=Object(m["a"])(ht,Ke,Qe,!1,null,null,null),gt=ft.exports;r["a"].use(E["a"]);var bt=[{path:"/",name:"Home",component:je},{path:"/game/:id",name:"Game",component:Se,beforeEnter:z},{path:"/tournaments",name:"Tournaments",component:Me,beforeEnter:z},{path:"/hof",name:"Hall Of Fame",component:We,beforeEnter:z},{path:"/profile",name:"profile",component:Ye,beforeEnter:z},{path:"/create",name:"create",component:gt,beforeEnter:z}],xt=new E["a"]({mode:"history",base:"/",routes:bt}),yt=xt;r["a"].use(u["a"]);var _t=new u["a"].Store({state:{openGames:[],activeGames:[],currentGame:{}},mutations:{updateOpenGamesList:function(e,t){e.openGames=t},updateActiveGamesList:function(e,t){e.activeGames=t},loadGame:function(e,t){e.currentGame=t}},actions:{updateOpenGamesList:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,nt.OpenGames();case 2:n=t.sent,e.commit("updateOpenGamesList",n);case 4:case"end":return t.stop()}}),t)})))()},updateActiveGamesList:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,nt.ActiveGames();case 2:n=t.sent,e.commit("updateActiveGamesList",n);case 4:case"end":return t.stop()}}),t)})))()},updateState:function(e){var t=e.dispatch;t("updateOpenGamesList"),t("updateActiveGamesList")},updateGame:function(e){var t=e.dispatch;t("updateGame")}},modules:{}}),wt=n("8160"),kt=n("f309");r["a"].use(kt["a"]);var Ct=new kt["a"]({});r["a"].use(W,{domain:wt["c"],clientId:wt["b"],audience:wt["a"],onRedirectCallback:function(e){yt.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}}),r["a"].config.productionTip=!1,new r["a"]({router:yt,store:_t,vuetify:Ct,created:function(){var e=this,t=N();t.$watch("loading",function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:!a&&t.isAuthenticated&&e.$store.dispatch("updateState");case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},render:function(e){return e(P)}}).$mount("#app")},8160:function(e){e.exports=JSON.parse('{"c":"dev-1vkyztq3.eu.auth0.com","b":"EBtu7yP2ifR2gbn8YrXgDsNBnfpUcg4w","a":"https://imperialapi.leal.im"}')}});
//# sourceMappingURL=app.722baef8.js.map